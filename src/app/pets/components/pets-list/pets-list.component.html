<StackLayout>
    <Label [hidden]="loading || !loaded || error || pets?.length !== 0" textWrap="true" text="No pets yet." class="font-mono text-2xl text-center p-5"></Label>
    <Label [hidden]="loading || !error" textWrap="true" text="Error! Try again." class="font-mono text-2xl text-center p-5"></Label>
    <ListView [hidden]="loading || !loaded || error" [items]="pets" class="h-full">
        <ng-template let-item="item">
            <DockLayout stretchLastChild="true" class="h-20">
                <Image [src]="getAvatarUrlOrDefault(item)" class="w-20 h-20 mt-10 mb-10" dock="left" (tap)="onSelectPet(item.id)"></Image>
                <Label textWrap="true" class="text-left w-52" dock="left" (tap)="onSelectPet(item.id)">
                    <FormattedString>
                        <Span [text]="item.name"  class="font-mono"></Span>
                    </FormattedString>
                </Label>
                <Image id="menuButton" (tap)="onActionsTap(item.id)" src="~/assets/icons/context-menu.png" class="w-9 h-9" dock="left"></Image>
            </DockLayout>
        </ng-template>
    </ListView>

    <ActivityIndicator [busy]="loading && !error"></ActivityIndicator>
</StackLayout>
