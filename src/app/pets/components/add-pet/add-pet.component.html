<StackLayout class="bg-landing-page-yellow">
    <StackLayout [hidden]="saving">
        <Label textWrap="true" class="text-center">
            <FormattedString>
                <Span text="pet details:\n" class="font-mono text-2xl"></Span>
            </FormattedString>
        </Label>

        <form [formGroup]="petForm">
            <Label text="Name" class="font-mono fields"></Label>
            <TextField formControlName="name" class="font-mono fields"></TextField>
            <Label *ngIf="petForm.touched && petForm.controls.name.errors" text="Name is required" class="font-mono text-center text-red-800"></Label>
            <Label text="Avatar URL" class="font-mono fields"></Label>
            <TextField formControlName="avatarInBase64" class="font-mono fields"></TextField>
            <Label text="Date of birth (approx.)" class="font-mono fields"></Label>
            <StackLayout class="m-2 rounded-full border-solid border-2 border-black">
                <DatePicker formControlName="dateOfBirth"></DatePicker>
            </StackLayout>
        </form>
        <Label text="Species" class="font-mono fields"></Label>
        <StackLayout class="m-2 rounded-full border-solid border-2 border-black">
            <DropDown
                    [(ngModel)]="selectedSpeciesIndex"
                    [items]="species"
                    (selectedIndexChanged)="onSpeciesChange($event)"
                    class="font-mono fields m-2"
            >
            </DropDown>
        </StackLayout>
        <Label text="Size" class="font-mono fields"></Label>
        <StackLayout class="m-2 rounded-full border-solid border-2 border-black">
            <DropDown
                    [(ngModel)]="selectedSizeIndex"
                    [items]="sizes"
                    (selectedIndexChanged)="onSizeChange($event)"
                    class="font-mono fields m-2"
            >
            </DropDown>
        </StackLayout>

        <StackLayout orientation="horizontal" (tap)="onSave()" class="rounded-full border-solid border-2 border-black mt-2 w-40 h-11">
            <Image src="~/assets/icons/save.png"  class="w-9 h-9 mr-2 ml-3"></Image>
            <Label text="Save details" verticalAlignment="center" class="font-mono mr-3"></Label>
        </StackLayout>
    </StackLayout>

    <ActivityIndicator [busy]="saving"></ActivityIndicator>
</StackLayout>
